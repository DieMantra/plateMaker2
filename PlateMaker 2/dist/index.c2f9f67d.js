!function(){function t(t){return t&&t.__esModule?t.default:t}function e(t,e,n,r){Object.defineProperty(t,e,{get:n,set:r,enumerable:!0,configurable:!0})}var n={};e(n,"toPng",(function(){return Vt}),(function(t){return Vt=t}));var r={},o=function(t){"use strict";var e,n=function(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]},r=function(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,u=Object.create(o.prototype),c=new d(r||[]);return u._invoke=f(t,n,c),u},o=function(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}},i=function(){},u=function(){},c=function(){},a=function(t){["next","throw","return"].forEach((function(e){n(t,e,(function(t){return this._invoke(e,t)}))}))},s=function(t,e){function n(r,i,u,c){var a=o(t[r],t,i);if("throw"!==a.type){var s=a.arg,f=s.value;return f&&"object"==typeof f&&g.call(f,"__await")?e.resolve(f.__await).then((function(t){n("next",t,u,c)}),(function(t){n("throw",t,u,c)})):e.resolve(f).then((function(t){s.value=t,u(s)}),(function(t){return n("throw",t,u,c)}))}c(a.arg)}var r;this._invoke=function(t,o){function i(){return new e((function(e,r){n(t,o,e,r)}))}return r=r?r.then(i,i):i()}},f=function(t,e,n){var r=E;return function(i,u){if(r===P)throw new Error("Generator is already running");if(r===k){if("throw"===i)throw u;return v()}for(n.method=i,n.arg=u;;){var c=n.delegate;if(c){var a=A(c,n);if(a){if(a===L)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===E)throw r=k,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=P;var s=o(t,e,n);if("normal"===s.type){if(r=n.done?k:T,s.arg===L)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=k,n.method="throw",n.arg=s.arg)}}},l=function(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)},h=function(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e},d=function(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(l,this),this.reset(!0)},p=function(t){if(t){var n=t[w];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,o=function n(){for(;++r<t.length;)if(g.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return o.next=o}}return{next:v}},v=function(){return{value:e,done:!0}},m=Object.prototype,g=m.hasOwnProperty,y="function"==typeof Symbol?Symbol:{},w=y.iterator||"@@iterator",b=y.asyncIterator||"@@asyncIterator",x=y.toStringTag||"@@toStringTag";try{n({},"")}catch(t){n=function(t,e,n){return t[e]=n}}t.wrap=r;var E="suspendedStart",T="suspendedYield",P="executing",k="completed",L={},S={};n(S,w,(function(){return this}));var R=Object.getPrototypeOf,_=R&&R(R(p([])));_&&_!==m&&g.call(_,w)&&(S=_);var I=c.prototype=i.prototype=Object.create(S);function A(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method))return L;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return L}var i=o(r,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,L;var u=i.arg;return u?u.done?(n[t.resultName]=u.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,L):u:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,L)}return u.prototype=c,n(I,"constructor",c),n(c,"constructor",u),u.displayName=n(c,x,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===u||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,n(t,x,"GeneratorFunction")),t.prototype=Object.create(I),t},t.awrap=function(t){return{__await:t}},a(s.prototype),n(s.prototype,b,(function(){return this})),t.AsyncIterator=s,t.async=function(e,n,o,i,u){void 0===u&&(u=Promise);var c=new s(r(e,n,o,i),u);return t.isGeneratorFunction(n)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},a(I),n(I,x,"Generator"),n(I,w,(function(){return this})),n(I,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(h),!t)for(var n in this)"t"===n.charAt(0)&&g.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){var n=function(n,o){return u.type="throw",u.arg=t,r.next=n,o&&(r.method="next",r.arg=e),!!o};if(this.done)throw t;for(var r=this,o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],u=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=g.call(i,"catchLoc"),a=g.call(i,"finallyLoc");if(c&&a){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?(this.method="next",this.next=o.finallyLoc,L):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),L},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),h(n),L}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;h(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:p(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),L}},t}(r);try{regeneratorRuntime=o}catch(t){"object"==typeof globalThis?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}var i={};e(i,"cloneNode",(function(){return et}),(function(t){return et=t}));var u={};e(u,"getMimeType",(function(){return L}),(function(t){return L=t})),e(u,"resolveUrl",(function(){return S}),(function(t){return S=t})),e(u,"isDataUrl",(function(){return R}),(function(t){return R=t})),e(u,"makeDataUrl",(function(){return _}),(function(t){return _=t})),e(u,"parseDataUrlContent",(function(){return I}),(function(t){return I=t})),e(u,"uuid",(function(){return C}),(function(t){return C=t})),e(u,"toArray",(function(){return N}),(function(t){return N=t})),e(u,"getNodeWidth",(function(){return j}),(function(t){return j=t})),e(u,"getNodeHeight",(function(){return D}),(function(t){return D=t})),e(u,"getPixelRatio",(function(){return B}),(function(t){return B=t})),e(u,"canvasToBlob",(function(){return M}),(function(t){return M=t})),e(u,"createImage",(function(){return O}),(function(t){return O=t})),e(u,"nodeToDataURL",(function(){return H}),(function(t){return H=t}));var c,a,s,f=c={};function l(){throw new Error("setTimeout has not been defined")}function h(){throw new Error("clearTimeout has not been defined")}function d(t){if(a===setTimeout)return setTimeout(t,0);if((a===l||!a)&&setTimeout)return a=setTimeout,setTimeout(t,0);try{return a(t,0)}catch(e){try{return a.call(null,t,0)}catch(e){return a.call(this,t,0)}}}!function(){try{a="function"==typeof setTimeout?setTimeout:l}catch(t){a=l}try{s="function"==typeof clearTimeout?clearTimeout:h}catch(t){s=h}}();var p,v=[],m=!1,g=-1;function y(){m&&p&&(m=!1,p.length?v=p.concat(v):g=-1,v.length&&w())}function w(){if(!m){var t=d(y);m=!0;for(var e=v.length;e;){for(p=v,v=[];++g<e;)p&&p[g].run();g=-1,e=v.length}p=null,m=!1,function(t){if(s===clearTimeout)return clearTimeout(t);if((s===h||!s)&&clearTimeout)return s=clearTimeout,clearTimeout(t);try{s(t)}catch(e){try{return s.call(null,t)}catch(e){return s.call(this,t)}}}(t)}}function b(t,e){this.fun=t,this.array=e}function x(){}f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];v.push(new b(t,e)),1!==v.length||m||d(w)},b.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=x,f.addListener=x,f.once=x,f.off=x,f.removeListener=x,f.removeAllListeners=x,f.emit=x,f.prependListener=x,f.prependOnceListener=x,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0};var E=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){var u=function(t){try{a(r.next(t))}catch(t){i(t)}},c=function(t){try{a(r.throw(t))}catch(t){i(t)}},a=function(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,c)};a((r=r.apply(t,e||[])).next())}))},T="application/font-woff",P="image/jpeg",k={woff:T,woff2:T,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:P,jpeg:P,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml"};function L(t){var e=function(t){var e=/\.([^./]*?)$/g.exec(t);return e?e[1]:""}(t).toLowerCase();return k[e]||""}function S(t,e){if(t.match(/^[a-z]+:\/\//i))return t;if(t.match(/^\/\//))return window.location.protocol+t;if(t.match(/^[a-z]+:/i))return t;var n=document.implementation.createHTMLDocument(),r=n.createElement("base"),o=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(o),e&&(r.href=e),o.href=t,o.href}function R(t){return-1!==t.search(/^(data:)/)}function _(t,e){return"data:".concat(e,";base64,").concat(t)}function I(t){return t.split(/,/)[1]}var A,C=(A=0,function(){return A+=1,"u".concat("0000".concat((Math.random()*Math.pow(36,4)<<0).toString(36)).slice(-4)).concat(A)});function N(t){for(var e=[],n=0,r=t.length;n<r;n+=1)e.push(t[n]);return e}function U(t,e){var n=window.getComputedStyle(t).getPropertyValue(e);return parseFloat(n.replace("px",""))}function j(t){var e=U(t,"border-left-width"),n=U(t,"border-right-width");return t.clientWidth+e+n}function D(t){var e=U(t,"border-top-width"),n=U(t,"border-bottom-width");return t.clientHeight+e+n}function B(){var t,e;try{e=c}catch(t){}var n=e&&e.env?e.env.devicePixelRatio:null;return n&&(t=parseInt(n,10),Number.isNaN(t)&&(t=1)),t||window.devicePixelRatio||1}function M(t){return t.toBlob?new Promise((function(e){return t.toBlob(e)})):new Promise((function(e){for(var n=window.atob(t.toDataURL().split(",")[1]),r=n.length,o=new Uint8Array(r),i=0;i<r;i+=1)o[i]=n.charCodeAt(i);e(new Blob([o],{type:"image/png"}))}))}function O(t){return new Promise((function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.crossOrigin="anonymous",r.decoding="sync",r.src=t}))}function F(e){return E(this,void 0,void 0,t(r).mark((function n(){return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve().then((function(){return(new XMLSerializer).serializeToString(e)})).then(encodeURIComponent).then((function(t){return"data:image/svg+xml;charset=utf-8,".concat(t)})));case 1:case"end":return t.stop()}}),n)})))}function H(e,n,o){return E(this,void 0,void 0,t(r).mark((function i(){var u,c,a;return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return u="http://www.w3.org/2000/svg",c=document.createElementNS(u,"svg"),a=document.createElementNS(u,"foreignObject"),c.setAttribute("width","".concat(n)),c.setAttribute("height","".concat(o)),c.setAttribute("viewBox","0 0 ".concat(n," ").concat(o)),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),c.appendChild(a),a.appendChild(e),t.abrupt("return",F(c));case 14:case"end":return t.stop()}}),i)})))}var V={};function W(t,e){var n=function(t){var e=t.replace(/\?.*/,"");return/ttf|otf|eot|woff2?/i.test(e)&&(e=e.replace(/.*\//,"")),e}(t);if(null!=V[n])return V[n];e.cacheBust&&(t+=(/\?/.test(t)?"&":"?")+(new Date).getTime());var r=window.fetch(t).then((function(t){return t.blob().then((function(e){return{blob:e,contentType:t.headers.get("Content-Type")||""}}))})).then((function(t){var e=t.blob,n=t.contentType;return new Promise((function(t,r){var o=new FileReader;o.onloadend=function(){return t({contentType:n,blob:o.result})},o.onerror=r,o.readAsDataURL(e)}))})).then((function(t){var e=t.blob;return{contentType:t.contentType,blob:(0,u.parseDataUrlContent)(e)}})).catch((function(n){var r="";if(e.imagePlaceholder){var o=e.imagePlaceholder.split(/,/);o&&o[1]&&(r=o[1])}var i="Failed to fetch resource: ".concat(t);return n&&(i="string"==typeof n?n:n.message),i&&console.error(i),{blob:r,contentType:""}}));return V[n]=r,r}function G(t,e,n){var r=".".concat(t,":").concat(e),o=n.cssText?function(t){var e=t.getPropertyValue("content");return"".concat(t.cssText," content: '").concat(e.replace(/'|"/g,""),"';")}(n):function(t){return(0,u.toArray)(t).map((function(e){var n=t.getPropertyValue(e),r=t.getPropertyPriority(e);return"".concat(e,": ").concat(n).concat(r?" !important":"",";")})).join(" ")}(n);return document.createTextNode("".concat(r,"{").concat(o,"}"))}function $(t,e,n){var r=window.getComputedStyle(t,n),o=r.getPropertyValue("content");if(""!==o&&"none"!==o){var i=(0,u.uuid)();try{e.className="".concat(e.className," ").concat(i)}catch(t){return}var c=document.createElement("style");c.appendChild(G(i,n,r)),e.appendChild(c)}}function z(t,e){$(t,e,":before"),$(t,e,":after")}var q=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){var u=function(t){try{a(r.next(t))}catch(t){i(t)}},c=function(t){try{a(r.throw(t))}catch(t){i(t)}},a=function(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,c)};a((r=r.apply(t,e||[])).next())}))};function Y(e){return q(this,void 0,void 0,t(r).mark((function n(){var o;return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if("data:,"!==(o=e.toDataURL())){t.next=3;break}return t.abrupt("return",Promise.resolve(e.cloneNode(!1)));case 3:return t.abrupt("return",(0,u.createImage)(o));case 4:case"end":return t.stop()}}),n)})))}function X(e,n){return q(this,void 0,void 0,t(r).mark((function o(){return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Promise.resolve(e.poster).then((function(t){return W(t,n)})).then((function(t){return(0,u.makeDataUrl)(t.blob,(0,u.getMimeType)(e.poster)||t.contentType)})).then((function(t){return(0,u.createImage)(t)})));case 1:case"end":return t.stop()}}),o)})))}function J(e,n){return q(this,void 0,void 0,t(r).mark((function o(){return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e instanceof HTMLCanvasElement)){t.next=2;break}return t.abrupt("return",Y(e));case 2:if(!(e instanceof HTMLVideoElement&&e.poster)){t.next=4;break}return t.abrupt("return",X(e,n));case 4:return t.abrupt("return",Promise.resolve(e.cloneNode(!1)));case 5:case"end":return t.stop()}}),o)})))}function K(e,n,o){var i;return q(this,void 0,void 0,t(r).mark((function c(){var a;return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0===(a=null!=(r=e).tagName&&"SLOT"===r.tagName.toUpperCase()&&e.assignedNodes?(0,u.toArray)(e.assignedNodes()):(0,u.toArray)((null!==(i=e.shadowRoot)&&void 0!==i?i:e).childNodes)).length||e instanceof HTMLVideoElement)){t.next=3;break}return t.abrupt("return",Promise.resolve(n));case 3:return t.abrupt("return",a.reduce((function(t,e){return t.then((function(){return et(e,o)})).then((function(t){t&&n.appendChild(t)}))}),Promise.resolve()).then((function(){return n})));case 4:case"end":return t.stop()}var r}),c)})))}function Q(t,e){var n=window.getComputedStyle(t),r=e.style;r&&(n.cssText?r.cssText=n.cssText:(0,u.toArray)(n).forEach((function(t){r.setProperty(t,n.getPropertyValue(t),n.getPropertyPriority(t))})))}function Z(t,e){t instanceof HTMLTextAreaElement&&(e.innerHTML=t.value),t instanceof HTMLInputElement&&e.setAttribute("value",t.value)}function tt(e,n){return q(this,void 0,void 0,t(r).mark((function o(){return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n instanceof Element){t.next=2;break}return t.abrupt("return",Promise.resolve(n));case 2:return t.abrupt("return",Promise.resolve().then((function(){return Q(e,n)})).then((function(){return z(e,n)})).then((function(){return Z(e,n)})).then((function(){return n})));case 3:case"end":return t.stop()}}),o)})))}function et(e,n,o){return q(this,void 0,void 0,t(r).mark((function i(){return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(o||!n.filter||n.filter(e)){t.next=2;break}return t.abrupt("return",Promise.resolve(null));case 2:return t.abrupt("return",Promise.resolve(e).then((function(t){return J(t,n)})).then((function(t){return K(e,t,n)})).then((function(t){return tt(e,t)})));case 3:case"end":return t.stop()}}),i)})))}var nt={};e(nt,"embedImages",(function(){return Tt}),(function(t){return Tt=t}));var rt={};function ot(t){if(Array.isArray(t))return t}function it(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function ut(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function ct(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function at(t,e){if(t){if("string"==typeof t)return ct(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ct(t,e):void 0}}function st(t,e){return ot(t)||it(t)||at(t,e)||ut()}e(rt,"shouldEmbed",(function(){return gt}),(function(t){return gt=t})),e(rt,"embedResources",(function(){return yt}),(function(t){return yt=t}));var ft=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){var u=function(t){try{a(r.next(t))}catch(t){i(t)}},c=function(t){try{a(r.throw(t))}catch(t){i(t)}},a=function(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,c)};a((r=r.apply(t,e||[])).next())}))},lt=/url\((['"]?)([^'"]+?)\1\)/g,ht=/url\([^)]+\)\s*format\((["'])([^"']+)\1\)/g,dt=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function pt(t){var e=[];return t.replace(lt,(function(t,n,r){return e.push(r),t})),e.filter((function(t){return!(0,u.isDataUrl)(t)}))}function vt(t,e,n,r,o){var i=n?(0,u.resolveUrl)(e,n):e;return Promise.resolve(i).then((function(t){return o?o(t):W(t,r)})).then((function(t){return"string"==typeof t?(0,u.makeDataUrl)(t,(0,u.getMimeType)(e)):(0,u.makeDataUrl)(t.blob,(0,u.getMimeType)(e)||t.contentType)})).then((function(n){return t.replace((r=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1"),new RegExp("(url\\(['\"]?)(".concat(r,")(['\"]?\\))"),"g")),"$1".concat(n,"$3"));var r})).then((function(t){return t}),(function(){return i}))}function mt(t,e){var n=e.preferredFontFormat;return n?t.replace(dt,(function(t){for(;;){var e=st(ht.exec(t)||[],3),r=e[0],o=e[2];if(!o)return"";if(o===n)return"src: ".concat(r,";")}})):t}function gt(t){return-1!==t.search(lt)}function yt(e,n,o){return ft(this,void 0,void 0,t(r).mark((function i(){var u;return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(gt(e)){t.next=2;break}return t.abrupt("return",Promise.resolve(e));case 2:return u=mt(e,o),t.abrupt("return",Promise.resolve(u).then(pt).then((function(t){return t.reduce((function(t,e){return t.then((function(t){return vt(t,e,n,o)}))}),Promise.resolve(u))})));case 4:case"end":return t.stop()}}),i)})))}var wt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){var u=function(t){try{a(r.next(t))}catch(t){i(t)}},c=function(t){try{a(r.throw(t))}catch(t){i(t)}},a=function(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,c)};a((r=r.apply(t,e||[])).next())}))};function bt(e,n){var o;return wt(this,void 0,void 0,t(r).mark((function i(){var u;return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(u=null===(o=e.style)||void 0===o?void 0:o.getPropertyValue("background")){t.next=3;break}return t.abrupt("return",Promise.resolve(e));case 3:return t.abrupt("return",Promise.resolve(u).then((function(t){return(0,rt.embedResources)(t,null,n)})).then((function(t){return e.style.setProperty("background",t,e.style.getPropertyPriority("background")),e})));case 4:case"end":return t.stop()}}),i)})))}function xt(e,n){return wt(this,void 0,void 0,t(r).mark((function o(){var i;return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e instanceof HTMLImageElement&&!(0,u.isDataUrl)(e.src)||e instanceof SVGImageElement&&!(0,u.isDataUrl)(e.href.baseVal)){t.next=2;break}return t.abrupt("return",Promise.resolve(e));case 2:return i=e instanceof HTMLImageElement?e.src:e.href.baseVal,t.abrupt("return",Promise.resolve(i).then((function(t){return W(t,n)})).then((function(t){return(0,u.makeDataUrl)(t.blob,(0,u.getMimeType)(i)||t.contentType)})).then((function(t){return new Promise((function(n,r){e.onload=n,e.onerror=r,e instanceof HTMLImageElement?(e.srcset="",e.src=t):e.href.baseVal=t}))})).then((function(){return e}),(function(){return e})));case 4:case"end":return t.stop()}}),o)})))}function Et(e,n){return wt(this,void 0,void 0,t(r).mark((function o(){var i,c;return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=(0,u.toArray)(e.childNodes),c=i.map((function(t){return Tt(t,n)})),t.abrupt("return",Promise.all(c).then((function(){return e})));case 3:case"end":return t.stop()}}),o)})))}function Tt(e,n){return wt(this,void 0,void 0,t(r).mark((function o(){return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e instanceof Element){t.next=2;break}return t.abrupt("return",Promise.resolve(e));case 2:return t.abrupt("return",Promise.resolve(e).then((function(t){return bt(t,n)})).then((function(t){return xt(t,n)})).then((function(t){return Et(t,n)})));case 3:case"end":return t.stop()}}),o)})))}function Pt(t,e){var n=t.style;e.backgroundColor&&(n.backgroundColor=e.backgroundColor),e.width&&(n.width="".concat(e.width,"px")),e.height&&(n.height="".concat(e.height,"px"));var r=e.style;return null!=r&&Object.keys(r).forEach((function(t){n[t]=r[t]})),t}var kt={};e(kt,"getWebFontCSS",(function(){return Ut}),(function(t){return Ut=t})),e(kt,"embedWebFonts",(function(){return jt}),(function(t){return jt=t}));var Lt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){var u=function(t){try{a(r.next(t))}catch(t){i(t)}},c=function(t){try{a(r.throw(t))}catch(t){i(t)}},a=function(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,c)};a((r=r.apply(t,e||[])).next())}))},St={};function Rt(t){var e=St[t];if(null!=e)return e;var n=window.fetch(t).then((function(e){return{url:t,cssText:e.text()}}));return St[t]=n,n}function _t(e){return Lt(this,void 0,void 0,t(r).mark((function n(){return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e.cssText.then((function(t){var n=t,r=/url\(["']?([^"')]+)["']?\)/g,o=(n.match(/url\([^)]+\)/g)||[]).map((function(t){var o=t.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),window.fetch(o).then((function(t){return t.blob()})).then((function(e){return new Promise((function(r,o){var i=new FileReader;i.onloadend=function(){n=n.replace(t,"url(".concat(i.result,")")),r([t,i.result])},i.onerror=o,i.readAsDataURL(e)}))}))}));return Promise.all(o).then((function(){return n}))})));case 1:case"end":return t.stop()}}),n)})))}function It(t){if(null==t)return[];for(var e=[],n=t.replace(/(\/\*[\s\S]*?\*\/)/gi,""),r=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");;){var o=r.exec(n);if(null===o)break;e.push(o[0])}n=n.replace(r,"");for(var i=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,u=new RegExp("((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})","gi");;){var c=i.exec(n);if(null===c){if(null===(c=u.exec(n)))break;i.lastIndex=u.lastIndex}else u.lastIndex=i.lastIndex;e.push(c[0])}return e}function At(e){return Lt(this,void 0,void 0,t(r).mark((function n(){var o,i;return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=[],i=[],e.forEach((function(t){if("cssRules"in t)try{(0,u.toArray)(t.cssRules).forEach((function(e,n){if(e.type===CSSRule.IMPORT_RULE){var r=n+1,o=Rt(e.href).then((function(t){return t?_t(t):""})).then((function(e){return It(e).forEach((function(e){try{t.insertRule(e,e.startsWith("@import")?r+=1:t.cssRules.length)}catch(t){console.error("Error inserting rule from remote css",{rule:e,error:t})}}))})).catch((function(t){console.error("Error loading remote css",t.toString())}));i.push(o)}}))}catch(r){var n=e.find((function(t){return null==t.href}))||document.styleSheets[0];null!=t.href&&i.push(Rt(t.href).then((function(t){return t?_t(t):""})).then((function(e){return It(e).forEach((function(e){n.insertRule(e,t.cssRules.length)}))})).catch((function(t){console.error("Error loading remote stylesheet",t.toString())}))),console.error("Error inlining remote css file",r.toString())}})),t.abrupt("return",Promise.all(i).then((function(){return e.forEach((function(t){if("cssRules"in t)try{(0,u.toArray)(t.cssRules).forEach((function(t){o.push(t)}))}catch(e){console.error("Error while reading CSS rules from ".concat(t.href),e.toString())}})),o})));case 4:case"end":return t.stop()}}),n)})))}function Ct(t){return t.filter((function(t){return t.type===CSSRule.FONT_FACE_RULE})).filter((function(t){return(0,rt.shouldEmbed)(t.style.getPropertyValue("src"))}))}function Nt(e){return Lt(this,void 0,void 0,t(r).mark((function n(){return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){null==e.ownerDocument&&n(new Error("Provided element is not within a Document")),t((0,u.toArray)(e.ownerDocument.styleSheets))})).then((function(t){return At(t)})).then(Ct));case 1:case"end":return t.stop()}}),n)})))}function Ut(e,n){return Lt(this,void 0,void 0,t(r).mark((function o(){return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Nt(e).then((function(t){return Promise.all(t.map((function(t){var e=t.parentStyleSheet?t.parentStyleSheet.href:null;return(0,rt.embedResources)(t.cssText,e,n)})))})).then((function(t){return t.join("\n")})));case 1:case"end":return t.stop()}}),o)})))}function jt(e,n){return Lt(this,void 0,void 0,t(r).mark((function o(){return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",(null!=n.fontEmbedCSS?Promise.resolve(n.fontEmbedCSS):Ut(e,n)).then((function(t){var n=document.createElement("style"),r=document.createTextNode(t);return n.appendChild(r),e.firstChild?e.insertBefore(n,e.firstChild):e.appendChild(n),e})));case 1:case"end":return t.stop()}}),o)})))}var Dt=function(t,e,n,r){return new(n||(n=Promise))((function(o,i){var u=function(t){try{a(r.next(t))}catch(t){i(t)}},c=function(t){try{a(r.throw(t))}catch(t){i(t)}},a=function(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(u,c)};a((r=r.apply(t,e||[])).next())}))};function Bt(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.width||(0,u.getNodeWidth)(t),r=e.height||(0,u.getNodeHeight)(t);return{width:n,height:r}}function Mt(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Dt(this,void 0,void 0,t(r).mark((function o(){var c,a,s;return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=Bt(e,n),a=c.width,s=c.height,t.abrupt("return",Promise.resolve(e).then((function(t){return(0,i.cloneNode)(t,n,!0)})).then((function(t){return(0,kt.embedWebFonts)(t,n)})).then((function(t){return(0,nt.embedImages)(t,n)})).then((function(t){return Pt(t,n)})).then((function(t){return(0,u.nodeToDataURL)(t,a,s)})));case 2:case"end":return t.stop()}}),o)})))}var Ot=16384;function Ft(t){(t.width>Ot||t.height>Ot)&&(t.width>Ot&&t.height>Ot?t.width>t.height?(t.height*=Ot/t.width,t.width=Ot):(t.width*=Ot/t.height,t.height=Ot):t.width>Ot?(t.height*=Ot/t.width,t.width=Ot):(t.width*=Ot/t.height,t.height=Ot))}function Ht(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Dt(this,void 0,void 0,t(r).mark((function o(){return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Mt(e,n).then(u.createImage).then((function(t){var r=document.createElement("canvas"),o=r.getContext("2d"),i=n.pixelRatio||(0,u.getPixelRatio)(),c=Bt(e,n),a=c.width,s=c.height,f=n.canvasWidth||a,l=n.canvasHeight||s;return r.width=f*i,r.height=l*i,n.skipAutoScale||Ft(r),r.style.width="".concat(f),r.style.height="".concat(l),n.backgroundColor&&(o.fillStyle=n.backgroundColor,o.fillRect(0,0,r.width,r.height)),o.drawImage(t,0,0,r.width,r.height),r})));case 1:case"end":return t.stop()}}),o)})))}function Vt(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Dt(this,void 0,void 0,t(r).mark((function o(){return t(r).wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Ht(e,n).then((function(t){return t.toDataURL()})));case 1:case"end":return t.stop()}}),o)})))}var Wt=[artMiddleText,artSideText,artBottomText,artTopText],Gt=[document.getElementById("middle__text__box"),document.getElementById("top__text__box"),document.getElementById("left__text__box"),document.getElementById("bottom__text__box")];document.querySelector("#save__btn").addEventListener("click",(function(){document.getElementById("artBackground").style.scale=1,Wt.forEach((function(t){document.getElementById(t.id+"--movespan").classList.add("hidden--instant"),document.getElementById(t.id+"--movespan").classList.remove("show")})),Gt.forEach((function(t){t.classList.remove("outlineRed")})),n.toPng(document.getElementById("artBackground"),{quality:1,canvasWidth:2100,canvasHeight:690.6}).then((function(t){var e=document.createElement("a");e.download="my-image-name.png",e.href=t,e.click()})).then((function(){document.getElementById("artBackground").style.scale="",Wt.forEach((function(t){document.getElementById(t.id+"--movespan").classList.remove("hidden--instant"),document.getElementById(t.id+"--movespan").classList.add("show")}))}))}))}();
//# sourceMappingURL=index.c2f9f67d.js.map
